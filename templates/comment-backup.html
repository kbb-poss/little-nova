{% extends "create-comment-base.html" %}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My test page</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    {% block head %}{% endblock %}
  </head>
  <body>
    <h1>ID {{ id }}</h1>
    <h1>NAME {{ name }}</h1>
    <h1>{{ text }}</h1>
    <h1>{{ utc }}</h1>
    <!-- <form id="send-comment" method="post" action="./create" accept-charset="utf-8">
        <p>name：<input type="text" name="name"></p>
        <p>text：<input type="text" name="text"></p>
        <p><input id="submit-comment" type="submit" value="send"></p>
        <input id="utc" type="hidden" name="utc">
        <p><input type="reset" value="reset"></p>
    </form> -->
    <script>
        // var parse_json = function(data) {
        //     var return_json = {};
        //     for (index = 0; index < data.length; index++) {
        //         return_json[data[index].name] = data[index].value
        //     }
        //     return return_json;
        // }

        // $(document).ready(function() {
        //     $('#send-comment').submit(function(event) {
        //         // Cancel sending in HTML 
        //         event.preventDefault();

        //         // Get the UTC
        //         var utc = new Date().toISOString();
                
        //         // Enter UTC
        //         $('#utc').val(utc);
                
        //         // Get the form element to be operated 
        //         var form = $(this);

        //         // Get the submit button 
        //         var button = form.find('#submit-comment');

        //         // Get input information 
        //         var array = form.serializeArray();
        //         console.log(array);

        //         // Convert to appropriate Json 
        //         var data = parse_json(array);
        //         console.log(data);

        //         // Send
        //         $.ajax({
        //             url: form.attr('action'),
        //             type: form.attr('method'),
        //             contentType: 'application/json',
        //             dataType: "json",
        //             data: JSON.stringify(data),
        //             timeout: 10000,  // milliseconds 
            
        //             // Before send
        //             beforeSend: function(xhr, settings) {
        //                 // Disable the button to prevent double transmission 
        //                 console.log(data);
        //                 button.attr('disabled', true);
        //             },

        //             // After response 
        //             complete: function(xhr, textStatus) {
        //                 // Enable button and allow resend
        //                 button.attr('disabled', false);
        //             },
                    
        //             // Processing when communication is successful 
        //             success: function(result, textStatus, xhr) {
        //                 // Initialize input value 
        //                 form[0].reset();
        //                 alert('The comment was sent successfully');
        //                 window.location = "/";
        //             },
            
        //             // Processing when communication fails 
        //             error: function(xhr, textStatus, error) {
        //                 alert('Failed to send comment');
        //             }
        //         });
        //     });   
        // });
    </script>
  </body>
</html>
